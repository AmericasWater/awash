library(dplyr)
library(ggplot2)
library(maps)
library(maptools)
library(ggmap)
library(tmap)      # package for plotting
library(readxl)    # for reading Excel
library(tmaptools)
data(wrld_simpl)
result_path = paste0("C:/Users/luc/Desktop/awash/analyses/climatevariability/", "analyzereservoir1/surface")
setwd(result_path)
result_path = paste0("C:/Users/luc/Desktop/awash/analyses/climatevariability/", "analyzereservoir_1yr_1month/surface")
setwd(result_path)
plot_path = paste0(result_path, "plots/")
dir.create(plot_path, recursive = T)
## Input run parameters
start_year=2001
end_year=2010
nyears=end_year-start_year+1
nmonths = 12
time_ind0 <- c(1:nyears*nmonths)
## Set up geographic groups
# County fips, state fips, region indexes
mastercounties <- read.csv("../../../data/global/counties.csv")
fips <- matrix(mastercounties$fips, nrow = 3109, ncol = length(time_ind0)) %>% as.vector()
time_ind <- t(matrix(time_ind0, nrow = length(time_ind0), ncol = 3109)) %>% as.vector() %>% as.factor()
state_ind <- matrix(mastercounties$state, nrow = 3109, ncol = max(time_ind0)) %>% as.vector()
